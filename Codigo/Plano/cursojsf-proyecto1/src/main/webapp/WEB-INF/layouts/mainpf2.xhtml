<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      locale="#{languageController.locale}">
      
	<h:head>
		<meta charset="UTF-8"/>
		<title>Sistema de clientes</title>
		<h:outputStylesheet library="webjars" name="primeflex/3.3.1/primeflex.min.css"/>
	</h:head>
	
	<h:body>
		<p:card>
			<p:menubar>
				<p:menuitem>
					<h:graphicImage
						value="/resources/img/128x128.png"
						alt="Banco de mexico"
						width="25"
						height="25"
						outcome="indexpf1.xhtml"/>
			      	Banco de México			
				</p:menuitem>
				<p:menuitem 
					value="Inicio" 
					outcome="indexpf1.xhtml"
					icon="pi pi-home" />
				<p:menuitem 
					value="Crear cliente" 
					outcome="formpf1.xhtml"
					icon="pi pi-plus" /> 
			    <p:menuitem>
					<h:form>
						<p:selectOneMenu
							onchange="submit()"
							valueChangeListener="#{languageController.selectLanguage}">
							<f:selectItem itemValue="es" itemLabel="Seleccione..."/>
							<f:selectItems value="#{languageController.supportedLanguages}"/>
						</p:selectOneMenu>
					</h:form>
				</p:menuitem> 	
			</p:menubar>
			<div class="p-mt-3">
				<p:growl widgetVar="mensaje" showDetail="true" />
			</div>
			<ui:insert name="content"/>

			<p:ajaxExceptionHandler 
				type="java.lang.NullPointerException"
				onexception="PF('exceptionDialog').show()"
				update="exceptionDialog"/>
				
			<p:dialog
				id="exceptionDialog"
				widgetVar="exceptionDialog"
				header="Ha ocurrido una excepción"
				responsive="true"
				modal="true"
				showEffect="fade"
				hideEffect="fade">
			
				<h2>Oooops!</h2>
				<h3>Ha ocurrido un error</h3>
				
				<div class="p-grid">
					<div class="p-col-2">
						<label>Mensaje de error:</label>
					</div>
					<div class="p-col-10">
						<label>#{pfExceptionHandler.message}</label>
					</div>
				</div>
			</p:dialog>

				
			<hr />
			<footer>
				<h:graphicImage
					value="/resources/img/128x128.png"
					alt="Banco de mexico"
					width="25"
					height="25"/>
				<p>Desarrollado para Banco de México</p>
			</footer>
		</p:card>
	</h:body>
</html>
      